<p-confirmDialog header="Confirmação" icon="fa fa-question-circle" width="425"></p-confirmDialog>


<div class="ui-g">
  <div class="ui-g-4">
    <p-button label="CADASTRAR NOVO CLIENTE" (click)="novoCliente()" icon="fa fa-user" title="Salvar" iconPos="left"></p-button>
  </div>
</div>

<br />

<p-messages [(value)]="labelMsg"></p-messages>

<p-table #dt [value]="clientes">

  <ng-template pTemplate="header">
    <tr>
      <th>Código</th>
      <th>Nome</th>
      <th>Rendimento Mensal</th>
      <th>Risco</th>
      <th style="width: 20%;"></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-cliente>
    <tr>
      <td>{{cliente.codigo}}</td>
      <td>{{cliente.nome}}</td>
      <td>{{cliente.rendimentoMensal}}</td>
      <td>{{cliente.risco}}</td>
      <td>
        <div class="ui-g">
          <div class="ui-g-6">
            <p-button title="Editar" label="Editar" (click)="abrirDialogPessoa(cliente)" icon="fa fa-eye"></p-button>
          </div>
          <div class="ui-g-6">
            <p-button title="Excluir" label="Excluir" (click)="deletar(cliente)" icon="fa fa-eraser"></p-button>
          </div>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>


<p-dialog modal="modal" [responsive]="true" [width]="740" header="Title" [autoAlign]="false" [(visible)]="displayDialog">

  <div [hidden]="cliente.codigo === undefined" class="ui-g-12">


    <p-button title="CLIQUE AQUI PARA REALIZAR UMA SIMULÇAO DE EMPRESTÍMO"  label="CLIQUE AQUI PARA REALIZAR UMA SIMULÇAO DE EMPRESTÍMO" (click)="abrirSimulacao(cliente)" ></p-button>
  </div>

  <div class="ui-g-12">
    <p-tabView>
      <p-tabPanel header="Informações Pessoais">
        <div class="ui-g">
          <div class="ui-g-6">Nome:</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="cliente.nome" required style="width: 100%;" pInputText placeholder="Nome" name="nome"
              title="Nome completo">
          </div>
        </div>


        <div class="ui-g">
          <div class="ui-g-6">Rendimento Mensal</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="cliente.rendimentoMensal" required name="rendimentoMensal" style="width: 100%;"
              pInputText placeholder="Rendimento Mensal" title="Rendimento Mensal">
          </div>
        </div>
        <div class="ui-g">
          <div class="ui-g-6">Risco</div>
          <div class="ui-g-6">

            <h3 style="color: blue">{{cliente.risco}}</h3>

          </div>
        </div>

        <p-messages [(value)]="labelErro"></p-messages>

        <div class="ui-g">
          <div class="ui-g-2">
            <p-button label="Salvar" (click)="salvar(cliente)" icon="fa fa-floppy-o" title="Salvar" iconPos="left"></p-button>
          </div>
          <div class="ui-g-2">
            <p-button title="Fechar" label="Fechar" (click)="fechar()"></p-button>
          </div>
        </div>

      </p-tabPanel>

      <p-tabPanel header="Endereço">

        <div class="ui-g">
          <div class="ui-g-6">Rua</div>
          <div class="ui-g-6">
            <input type="text" pInputText name="rua" [(ngModel)]="endereco.rua" required style="width: 100%;" pInputText placeholder="Rua"
              title="Risco">
          </div>

        </div>

        <div class="ui-g">
          <div class="ui-g-6">N°</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="endereco.numero" required style="width: 100%;" pInputText placeholder="N°" title="N°">
          </div>
        </div>

        <div class="ui-g">
          <div class="ui-g-6">Bairro</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="endereco.bairro" required style="width: 100%;" pInputText placeholder="Bairro"
              title="Bairro">
          </div>
        </div>

        <div class="ui-g">
          <div class="ui-g-6">Cidade</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="endereco.cidade" required style="width: 100%;" pInputText placeholder="Cidade"
              title="Cidade">
          </div>
        </div>

        <div class="ui-g">
          <div class="ui-g-6">UF</div>
          <div class="ui-g-6">
            <input type="text" pInputText [(ngModel)]="endereco.uf" required style="width: 100%;" pInputText placeholder="UF" title="UF">
          </div>
        </div>

        <p-table #dt [value]="cliente.endereco">

          <ng-template pTemplate="header">
            <tr>
              <th>Rua</th>
              <th>N°</th>
              <th>Bairro</th>
              <th>Cidade</th>
              <th>UF</th>
              <th style="width: 20%;"></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-endereco>
            <tr>
              <td>{{endereco.rua}}</td>
              <td>{{endereco.numero}}</td>
              <td>{{endereco.bairro}}</td>
              <td>{{endereco.cidade}}</td>
              <td>{{endereco.uf}}</td>
              <td>
                <div class="ui-g">
                  <div class="ui-g-12">
                    <p-button title="Editar" label="Editar" (click)="editarEndereco(endereco)" icon="fa fa-eye"></p-button>
                  </div>
                  <div class="ui-g-12">
                    <p-button title="Excluir" class="ui-button-danger" label="Excluir" (click)="deletarEndereco(endereco)" icon="fa fa-eraser"></p-button>
                  </div>
                </div>
              </td>
            </tr>
          </ng-template>
        </p-table>

        <p-messages [(value)]="labelEndereco"></p-messages>
        <p-messages [(value)]="labelErro"></p-messages>

        <div class="ui-g">
          <div class="ui-g-2">
            <p-button label="Salvar" (click)="salvarEndereco(cliente)" icon="fa fa-floppy-o" title="Salvar" iconPos="left"></p-button>
          </div>
          <div class="ui-g-2">
            <p-button title="Fechar" label="Fechar" (click)="fechar()"></p-button>
          </div>
        </div>


      </p-tabPanel>
    </p-tabView>


  </div>
</p-dialog>